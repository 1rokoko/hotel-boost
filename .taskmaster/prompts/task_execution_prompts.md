# üöÄ –ü–†–û–ú–ü–¢–´ –î–õ–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø –ó–ê–î–ê–ß
## WhatsApp Hotel Bot MVP - –¢–æ—á–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∑–∞–¥–∞—á–∞–º

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –û–°–ù–û–í–ê–ù–û –ù–ê –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –§–ê–ô–õ–ê–•

**–í–°–ï –ü–†–û–ú–ü–¢–´ –¢–û–ß–ù–û –°–û–û–¢–í–ï–¢–°–¢–í–£–Æ–¢**:
- üìã **–û—Å–Ω–æ–≤–Ω–æ–º—É —Ä–µ–µ—Å—Ç—Ä—É**: `.taskmaster/tasks/tasks.json`
- üìÑ **–î–µ—Ç–∞–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º**: `.taskmaster/tasks/task_XXX.md`

**–ù–ï –°–û–ó–î–ê–í–ê–ô–¢–ï –ù–û–í–´–ï –ó–ê–î–ê–ß–ò** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ!

---

## üèóÔ∏è TASK 001: PROJECT SETUP AND INFRASTRUCTURE

**üìÇ –ò–°–¢–û–ß–ù–ò–ö–ò**:
- `.taskmaster/tasks/task_001.md`
- `tasks.json` (ID: 1, –ø–æ–¥–∑–∞–¥–∞—á–∏ 1.1-1.8)

```
–í—ã–ø–æ–ª–Ω–∏—Ç—å Task 001: Project Setup and Infrastructure –¥–ª—è WhatsApp Hotel Bot MVP

üîí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: python .taskmaster/scripts/workflow_enforcer.py 1
2. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –í–ï–°–¨ —Ñ–∞–π–ª: .taskmaster/tasks/task_001.md
3. –ò–∑—É—á–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á–∏ –≤ tasks.json (subtasks 1.1-1.8)
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å: npx task-master set-status --id=1 --status=in-progress

üìä –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –§–ê–ô–õ–û–í:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: HIGH
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: MEDIUM
- –í—Ä–µ–º—è: 12 —á–∞—Å–æ–≤
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –ù–µ—Ç
- –§–∞–∑–∞: foundation

üéØ –¢–û–ß–ù–´–ï –ü–û–î–ó–ê–î–ê–ß–ò (–ò–ó tasks.json):

1.1 –°–æ–∑–¥–∞–Ω–∏–µ FastAPI –ø—Ä–æ–µ–∫—Ç–∞ (2—á)
–§–∞–π–ª—ã: main.py, requirements.txt, app/__init__.py, app/api/__init__.py
–î–µ—Ç–∞–ª–∏: FastAPI —Å —Ä–æ—É—Ç–µ—Ä–∞–º–∏, middleware, CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (1—á)
–§–∞–π–ª—ã: requirements.txt, .env.example, pyproject.toml
–î–µ—Ç–∞–ª–∏: Poetry –∏–ª–∏ pip-tools –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

1.3 Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (2—á)
–§–∞–π–ª—ã: Dockerfile, docker-compose.yml, .dockerignore
–î–µ—Ç–∞–ª–∏: Multi-stage build, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞

1.4 Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ CI/CD (2—á)
–§–∞–π–ª—ã: .gitignore, .github/workflows/ci.yml, README.md
–î–µ—Ç–∞–ª–∏: GitHub Actions –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞

1.5 –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (1—á)
–§–∞–π–ª—ã: tests/__init__.py, tests/test_main.py, pytest.ini
–î–µ—Ç–∞–ª–∏: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1.6 –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (1.5—á)
–§–∞–π–ª—ã: app/core/logging.py, app/core/config.py
–î–µ—Ç–∞–ª–∏: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1.7 –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (1.5—á)
–§–∞–π–ª—ã: tests/integration/, —Ç–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
–î–µ—Ç–∞–ª–∏: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ Redis

1.8 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ (2—á)
–§–∞–π–ª—ã: app/core/metrics.py, health endpoints
–î–µ—Ç–∞–ª–∏: Prometheus –º–µ—Ç—Ä–∏–∫–∏, health checks

‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò (–ò–ó task_001.md):
- –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

üîÑ WORKFLOW –ü–†–ê–í–ò–õ–ê:
- –û–±–Ω–æ–≤–ª—è—Ç—å .taskmaster/tasks/task_001.md –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–¥–∑–∞–¥–∞—á–∏ 1.1-1.8
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –í–°–ï —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ vs –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
```

---

## üóÑÔ∏è TASK 002: DATABASE SCHEMA DESIGN AND SETUP

**üìÇ –ò–°–¢–û–ß–ù–ò–ö–ò**:
- `.taskmaster/tasks/task_002.md`
- `tasks.json` (ID: 2, –ø–æ–¥–∑–∞–¥–∞—á–∏ 2.1-2.8)

```
–í—ã–ø–æ–ª–Ω–∏—Ç—å Task 002: Database Schema Design and Setup –¥–ª—è WhatsApp Hotel Bot MVP

üîí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: npx task-master dependencies 2 (Task 001 = done)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: python .taskmaster/scripts/workflow_enforcer.py 2
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –í–ï–°–¨ —Ñ–∞–π–ª: .taskmaster/tasks/task_002.md
4. –ò–∑—É—á–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á–∏ –≤ tasks.json (subtasks 2.1-2.8)
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å: npx task-master set-status --id=2 --status=in-progress

üìä –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –§–ê–ô–õ–û–í:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: HIGH
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: HIGH
- –í—Ä–µ–º—è: 19 —á–∞—Å–æ–≤
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Task 001
- –§–∞–∑–∞: foundation

üéØ –¢–û–ß–ù–´–ï –ü–û–î–ó–ê–î–ê–ß–ò (–ò–ó task_002.md):

2.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLAlchemy –∏ Alembic (2—á)
–§–∞–π–ª—ã: app/database.py, alembic.ini, alembic/env.py
–î–µ—Ç–∞–ª–∏: AsyncSession, create_async_engine, –º–∏–≥—Ä–∞—Ü–∏–∏

2.2 –ú–æ–¥–µ–ª—å Hotels (2—á)
–§–∞–π–ª—ã: app/models/hotel.py
–î–µ—Ç–∞–ª–∏: Hotel model —Å –ø–æ–ª—è–º–∏ name, settings, created_at, is_active

2.3 –ú–æ–¥–µ–ª—å Guests (2—á)
–§–∞–π–ª—ã: app/models/guest.py
–î–µ—Ç–∞–ª–∏: Guest model —Å phone, hotel_id, last_interaction

2.4 –ú–æ–¥–µ–ª—å Conversations (3—á)
–§–∞–π–ª—ã: app/models/conversation.py
–î–µ—Ç–∞–ª–∏: Conversation model —Å guest_id, messages, status, sentiment

2.5 –ú–æ–¥–µ–ª—å Triggers (3—á)
–§–∞–π–ª—ã: app/models/trigger.py
–î–µ—Ç–∞–ª–∏: Trigger model —Å hotel_id, trigger_type, conditions, message_template

2.6 –ú–æ–¥–µ–ª–∏ Staff Notifications –∏ Sentiment Analysis (2—á)
–§–∞–π–ª—ã: app/models/notification.py, app/models/sentiment.py
–î–µ—Ç–∞–ª–∏: StaffNotification –∏ SentimentAnalysis models

2.7 Redis –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (2—á)
–§–∞–π–ª—ã: app/core/redis.py, app/core/cache.py
–î–µ—Ç–∞–ª–∏: Redis connection, caching decorators

2.8 –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3—á)
–§–∞–π–ª—ã: alembic/versions/, tests/test_database.py
–î–µ—Ç–∞–ª–∏: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã

‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò (–ò–ó task_002.md):
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- Multi-tenant –∏–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –¢–µ—Å—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ö–æ–¥—è—Ç

üîÑ WORKFLOW –ü–†–ê–í–ò–õ–ê:
- –û–±–Ω–æ–≤–ª—è—Ç—å .taskmaster/tasks/task_002.md –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–¥–∑–∞–¥–∞—á–∏ 2.1-2.8
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –º–æ–¥–µ–ª—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

---

## üì± TASK 003: GREEN API WHATSAPP INTEGRATION

**üìÇ –ò–°–¢–û–ß–ù–ò–ö–ò**:
- `.taskmaster/tasks/task_003.md`
- `tasks.json` (ID: 3, –ø–æ–¥–∑–∞–¥–∞—á–∏ 3.1-3.6)

```
–í—ã–ø–æ–ª–Ω–∏—Ç—å Task 003: Green API WhatsApp Integration –¥–ª—è WhatsApp Hotel Bot MVP

üîí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: npx task-master dependencies 3 (Tasks 001, 002 = done)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: python .taskmaster/scripts/workflow_enforcer.py 3
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –í–ï–°–¨ —Ñ–∞–π–ª: .taskmaster/tasks/task_003.md
4. –ò–∑—É—á–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á–∏ –≤ tasks.json (subtasks 3.1-3.6)
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å: npx task-master set-status --id=3 --status=in-progress

üìä –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –§–ê–ô–õ–û–í:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: HIGH
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: HIGH
- –í—Ä–µ–º—è: 16 —á–∞—Å–æ–≤
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Tasks 001, 002
- –§–∞–∑–∞: core

üéØ –¢–û–ß–ù–´–ï –ü–û–î–ó–ê–î–ê–ß–ò (–ò–ó task_003.md):

3.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Green API –∫–ª–∏–µ–Ω—Ç–∞ (3—á)
–§–∞–π–ª—ã: app/services/green_api.py, app/schemas/green_api.py, app/core/green_api_config.py
–î–µ—Ç–∞–ª–∏: HTTP –∫–ª–∏–µ–Ω—Ç, rate limiting, retry –ª–æ–≥–∏–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π

3.2 Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (4—á)
–§–∞–π–ª—ã: app/api/v1/endpoints/webhooks.py, app/services/webhook_processor.py, app/schemas/webhook.py
–î–µ—Ç–∞–ª–∏: Webhook endpoints, –æ–±—Ä–∞–±–æ—Ç–∫–∞ webhook'–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è

3.3 –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (3—á)
–§–∞–π–ª—ã: app/services/message_sender.py, app/schemas/message.py
–î–µ—Ç–∞–ª–∏: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

3.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (3—á)
–§–∞–π–ª—ã: app/services/message_processor.py, app/utils/message_parser.py
–î–µ—Ç–∞–ª–∏: –ü–∞—Ä—Å–∏–Ω–≥ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞

3.5 Rate limiting –∏ retry –ª–æ–≥–∏–∫–∞ (2—á)
–§–∞–π–ª—ã: app/utils/rate_limiter.py, app/utils/retry_handler.py
–î–µ—Ç–∞–ª–∏: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff

3.6 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1—á)
–§–∞–π–ª—ã: tests/test_green_api.py, tests/integration/test_webhooks.py
–î–µ—Ç–∞–ª–∏: Unit –∏ integration —Ç–µ—Å—Ç—ã –¥–ª—è Green API

‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò (–ò–ó task_003.md):
- –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å WhatsApp —Å–æ–æ–±—â–µ–Ω–∏—è
- Webhook'–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

üîÑ WORKFLOW –ü–†–ê–í–ò–õ–ê:
- –û–±–Ω–æ–≤–ª—è—Ç—å .taskmaster/tasks/task_003.md –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–¥–∑–∞–¥–∞—á–∏ 3.1-3.6
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –ø–æ–¥–∑–∞–¥–∞—á—É –æ—Ç–¥–µ–ª—å–Ω–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API endpoints
```

---

## ü§ñ TASK 004: DEEPSEEK AI INTEGRATION

**üìÇ –ò–°–¢–û–ß–ù–ò–ö–ò**:
- `.taskmaster/tasks/task_004.md`
- `tasks.json` (ID: 4, –ø–æ–¥–∑–∞–¥–∞—á–∏ 4.1-4.6)

```
–í—ã–ø–æ–ª–Ω–∏—Ç—å Task 004: DeepSeek AI Integration –¥–ª—è WhatsApp Hotel Bot MVP

üîí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: npx task-master dependencies 4 (Task 001 = done)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: python .taskmaster/scripts/workflow_enforcer.py 4
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –í–ï–°–¨ —Ñ–∞–π–ª: .taskmaster/tasks/task_004.md
4. –ò–∑—É—á–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á–∏ –≤ tasks.json (subtasks 4.1-4.6)
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å: npx task-master set-status --id=4 --status=in-progress

üìä –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –§–ê–ô–õ–û–í:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: HIGH
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: HIGH
- –í—Ä–µ–º—è: 14 —á–∞—Å–æ–≤
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Task 001
- –§–∞–∑–∞: core

üéØ –¢–û–ß–ù–´–ï –ü–û–î–ó–ê–î–ê–ß–ò (–ò–ó task_004.md):

4.1 DeepSeek API –∫–ª–∏–µ–Ω—Ç (3—á)
–§–∞–π–ª—ã: app/services/deepseek_client.py, app/core/deepseek_config.py
–î–µ—Ç–∞–ª–∏: HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è DeepSeek API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

4.2 –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π (3—á)
–§–∞–π–ª—ã: app/services/sentiment_analyzer.py, app/schemas/sentiment.py
–î–µ—Ç–∞–ª–∏: –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–º–æ—Ü–∏–π

4.3 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (3—á)
–§–∞–π–ª—ã: app/services/response_generator.py, app/utils/prompt_builder.py
–î–µ—Ç–∞–ª–∏: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

4.4 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (2—á)
–§–∞–π–ª—ã: app/services/context_manager.py, app/models/conversation_context.py
–î–µ—Ç–∞–ª–∏: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

4.5 Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã (2—á)
–§–∞–π–ª—ã: app/services/fallback_handler.py, app/utils/ai_fallback.py
–î–µ—Ç–∞–ª–∏: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤ AI, —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

4.6 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1—á)
–§–∞–π–ª—ã: tests/test_deepseek.py, tests/test_sentiment.py
–î–µ—Ç–∞–ª–∏: Unit —Ç–µ—Å—Ç—ã –¥–ª—è AI —Ñ—É–Ω–∫—Ü–∏–π

‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò (–ò–ó task_004.md):
- AI –∞–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

üîÑ WORKFLOW –ü–†–ê–í–ò–õ–ê:
- –û–±–Ω–æ–≤–ª—è—Ç—å .taskmaster/tasks/task_004.md –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–¥–∑–∞–¥–∞—á–∏ 4.1-4.6
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å AI —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ AI –ø—Ä–æ–º–ø—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```